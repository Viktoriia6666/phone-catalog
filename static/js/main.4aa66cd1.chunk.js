(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{24:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var a=c(9),s=c.n(a),i=(c(24),c(10)),n=c(4),r=c(3),l=c(5),o=c.n(l),d=(c(30),c(1)),j=c.n(d),m=c(19),b=c.n(m);c(31);function _(e,t){const c=[];for(let a=e;a<=t;a+=1)c.push(a);return c}function h(e,t){const c=new URLSearchParams(e.toString());return Object.entries(t).forEach((e=>{let[t,a]=e;null===a?c.delete(t):Array.isArray(a)?(c.delete(t),a.forEach((e=>{c.append(t,e)}))):c.set(t,a)})),c.toString()}var O=c(0);const p=()=>{const{pathname:e}=Object(r.o)(),[t,c]=Object(n.d)(),a=Object(d.useRef)(null),[s,i]=Object(d.useState)(t.get("query")||"");Object(d.useEffect)((()=>{i(t.get("query")||""),c(h(t,{query:t.get("query")||null}))}),[e]);const l=Object(d.useCallback)(b()(c,1e3),[e]);return Object(O.jsxs)("div",{className:o()("search",{"search--focus":!!s}),children:[Object(O.jsx)("input",{ref:a,value:s,type:"text",className:"search__input",placeholder:"Search in ".concat(e.slice(1),"..."),onChange:e=>{const c=e.target.value;if(!c)return i(""),void l(h(t,{query:null}));i(c),l(h(t,{query:c}))},onBlur:e=>{!e.relatedTarget||e.relatedTarget.id}}),Object(O.jsx)("button",{type:"button",id:"button",className:o()("search__button",{"search__button--focus":!!s}),onClick:()=>{var e;if(s)return i(""),void c(h(t,{query:null}));null===(e=a.current)||void 0===e||e.focus()}})]})};var x=c.p+"static/media/Logo.c9417692.svg",u=c.p+"static/media/Favourites_Heart_Like.ae6669ec.svg",g=c.p+"static/media/Shopping_bag_Cart.1962e424.svg",N=c.p+"static/media/upppp.81f93ebb.svg";const v=i.c,f=i.b,y=e=>{let{isActive:t}=e;return o()("nav__link",{"active-link":t})},w=e=>{let{isActive:t}=e;return o()("header__icon",{"active-link":t})};var k=()=>{const{pathname:e,search:t}=Object(r.o)(),{favorites:c}=v((e=>e.favorites)),{cart:a}=v((e=>e.cart)),s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("header",{className:"header",children:[Object(O.jsxs)("div",{className:"header__left",children:[Object(O.jsx)("div",{className:"logo header__logo",children:Object(O.jsx)(n.b,{to:"/",className:"logo__link",children:Object(O.jsx)("img",{src:x,alt:"logo"})})}),"/cart"!==e&&Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsx)(n.c,{to:"/",className:y,children:"Home"}),Object(O.jsx)(n.c,{to:"/phones",className:y,children:"Phones"}),Object(O.jsx)(n.c,{to:"/tablets",className:y,children:"Tablets"}),Object(O.jsx)(n.c,{to:"/accessories",className:y,children:"Accessories"})]})]}),Object(O.jsxs)("div",{className:"header__right",children:[("/phones"===e||"/tablets"===e||"/accessories"===e||"/favorites"===e)&&Object(O.jsx)(p,{}),"/cart"!==e&&Object(O.jsxs)(n.c,{to:"/favorites",className:w,children:[Object(O.jsx)("img",{src:u,alt:"favorites",className:"header__image"}),c.length>0&&Object(O.jsx)("span",{className:"header__count",children:c.length})]}),Object(O.jsxs)(n.c,{to:"/cart",className:w,state:{pathname:e,search:t},children:[Object(O.jsx)("img",{src:g,alt:"cart",className:"header__image"}),a.length>0&&Object(O.jsx)("span",{className:"header__count",children:a.length})]})]})]}),Object(O.jsx)(r.b,{}),Object(O.jsx)("footer",{className:"footer",children:Object(O.jsxs)("div",{className:"footer__content",children:[Object(O.jsx)(n.b,{to:"/",className:"logo",children:Object(O.jsx)("img",{src:x,alt:"logo"})}),Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsx)(n.b,{to:"https://github.com/Viktoriia6666",className:"nav__link nav__link--footer",target:"_blank",children:"Github"}),Object(O.jsx)(n.b,{to:"/contacts",className:"nav__link nav__link--footer",children:"Contacts"}),Object(O.jsx)(n.b,{to:"/rights",className:"nav__link nav__link--footer",children:"Rights"})]}),Object(O.jsxs)("div",{className:"back-to-top",children:[Object(O.jsx)(n.b,{to:{pathname:e},className:"back-to-top__text",onClick:s,children:"Back to top"}),Object(O.jsx)(n.b,{to:{pathname:e},className:"icon icon--back-to-top",onClick:s,children:Object(O.jsx)("img",{src:N,alt:"arrow",className:"icon__arrow"})})]})]})})]})},C=(c(33),c.p+"static/media/rightblack.70f42d77.svg"),S=c.p+"static/media/Chevron (Arrow Right).c0d01b22.svg";const P=[c.p+"static/media/banner-phones.b4eeda8b.png",c.p+"static/media/banner-tablets.a962057c.png",c.p+"static/media/category-accessories.e47d6d6d.png"],A=1040,I=()=>{const[e,t]=Object(d.useState)(P[0]),[c,a]=Object(d.useState)(0),s=Object(d.useCallback)((()=>{const s=P.findIndex((t=>t===e));P.length-1===s?(t(P[0]),a(0)):(t(P[s+1]),a(c+A))}),[e,c]),i=Object(d.useCallback)((()=>{const s=P.findIndex((t=>t===e));0===s?(t(P[P.length-1]),a((P.length-1)*A)):(t(P[s-1]),a(c-A))}),[e,c]);return Object(d.useEffect)((()=>{const e=setInterval(s,5e3);return()=>clearInterval(e)}),[e,c]),Object(O.jsxs)("div",{className:"slider",children:[Object(O.jsxs)("div",{className:"slider__wrapper",children:[Object(O.jsx)("button",{type:"button",className:"slider__btn slider__btn-prev",onClick:i,children:Object(O.jsx)("img",{src:S,alt:"right"})}),Object(O.jsx)("div",{className:"slider__image-wrapper",children:P.map((e=>{const t=e.split("-")[1].split(".")[0];return Object(O.jsx)("div",{style:{transform:"translateX(-".concat(c,"px)"),transition:"transform 1.5s"},children:Object(O.jsx)(n.b,{to:"/".concat(t),children:Object(O.jsx)("img",{src:e,alt:"slide",className:"slider__image"})})},e)}))}),Object(O.jsx)("button",{type:"button",className:"slider__btn slider__btn-next",onClick:s,children:Object(O.jsx)("img",{src:C,alt:"left"})})]}),Object(O.jsx)("div",{className:"slider__dots",children:P.map(((c,s)=>Object(O.jsx)("button",{type:"button",className:o()("slider__button",{"slider__button-active":e===c}),onClick:()=>(e=>{t(P[e]),a(e*A)})(s)},c)))})]})};c(34),c(35);var B=c(7);const q=localStorage.getItem("favorites"),F={favorites:q?JSON.parse(q):[],loading:!1,error:!1},L=e=>{localStorage.setItem("favorites",JSON.stringify(e.favorites))},M=Object(B.c)({name:"favorites",initialState:F,reducers:{add:(e,t)=>{e.favorites.push(t.payload),L(e)},remove:(e,t)=>{e.favorites=e.favorites.filter((e=>e.id!==t.payload)),L(e)}}});var R=M.reducer;const{add:E,remove:G}=M.actions,T=localStorage.getItem("cart"),D={cart:T?JSON.parse(T):[],loading:!1,error:!1},H=e=>{localStorage.setItem("cart",JSON.stringify(e.cart))},J=Object(B.c)({name:"cart",initialState:D,reducers:{add:(e,t)=>{e.cart.push(t.payload),H(e)},remove:(e,t)=>{e.cart=e.cart.filter((e=>e.id!==t.payload)),H(e)},increase:(e,t)=>{e.cart=e.cart.map((e=>e.id!==t.payload?e:{...e,quantity:e.quantity+1})),H(e)},decrease:(e,t)=>{e.cart=e.cart.map((e=>e.id!==t.payload?e:{...e,quantity:e.quantity-1})),H(e)}}});var $=J.reducer;const{add:Y,remove:U,increase:W,decrease:X}=J.actions,z=e=>{let{card:t,info:c}=e;const{favorites:a}=v((e=>e.favorites)),{cart:s}=v((e=>e.cart)),i=f(),n=Object(d.useMemo)((()=>s.find((e=>e.id===t.id))),[s]);return Object(O.jsxs)("div",{className:"card-buttons",children:[Object(O.jsx)("button",{type:"button",className:o()("card-buttons__cart",{"card-buttons__cart--detail":"detail"===c,"card-buttons__cart--selected":n}),onClick:()=>{i(n?U(t.id):Y({id:t.id,quantity:1,product:t}))},children:n?"Added to cart":"Add to cart"}),Object(O.jsx)("button",{type:"button",className:o()("card-buttons__favorite",{"card-buttons__favorite--detail":"detail"===c,"card-buttons__favorite--selected":a.find((e=>e.id===t.id))}),onClick:()=>{a.find((e=>e.id===t.id))?i(G(t.id)):i(E(t))},"data-cy":"addToFavorite"})]})},Q=e=>{let{card:t}=e;const{pathname:c,search:a}=Object(r.o)(),{image:s,name:i,price:l,fullPrice:o,screen:d,capacity:j,ram:m,phoneId:b}=t;return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)(n.b,{to:"/phones/".concat(b),state:{pathname:c,search:a},children:Object(O.jsx)("img",{className:"card__image",src:"./new/".concat(s),alt:i})}),Object(O.jsx)(n.b,{to:"/phones/".concat(b),state:{pathname:c,search:a},className:"card__name",children:i}),Object(O.jsxs)("div",{className:"card__prices",children:[Object(O.jsx)("h2",{className:"card__price",children:"$".concat(l)}),0!==o&&Object(O.jsx)("div",{className:"card__full-price",children:"$".concat(o)})]}),Object(O.jsx)("div",{className:"card__line"}),Object(O.jsxs)("div",{className:"card__info-wrapper",children:[Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("div",{className:"card__char-name",children:"Screen"}),Object(O.jsx)("div",{className:"card__char",children:d})]}),Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("div",{className:"card__char-name",children:"Capacity"}),Object(O.jsx)("div",{className:"card__char",children:j.replace("GB"," GB")})]}),Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("div",{className:"card__char-name",children:"RAM"}),Object(O.jsx)("div",{className:"card__char",children:m.replace("GB"," GB")})]})]}),Object(O.jsx)(z,{card:t,info:"card"})]})},V="https://mate-academy.github.io/react_phone-catalog/_new/products",Z=()=>fetch("".concat(V,".json")).then((e=>{if(!e.ok)throw new Error;return e.json()}));var K=c.p+"static/media/rightgray.e028d388.svg",ee=c.p+"static/media/Arrow_Left_gray.7460d679.svg";const te=272,ce=1136,ae=j.a.memo((e=>{let{section:t}=e;const{pathname:c}=Object(r.s)(),[a,s]=Object(d.useState)([]),[i,l]=Object(d.useState)(0),[j,m]=Object(d.useState)(0),[b,_]=Object(d.useState)(!0),[h,p]=Object(d.useState)(!1);Object(d.useEffect)((()=>{switch(t){case"Hot prices":Z().then((e=>[...e].sort(((e,t)=>{const c=e.fullPrice-e.price;return t.fullPrice-t.price-c})))).then((e=>{s(e),l(288*(e.length-1)+te)}));break;case"Brand new models":Z().then((e=>{const t=[...e].sort(((e,t)=>t.year-e.year));return t.filter((e=>t[0].year===e.year)).map((e=>({...e,fullPrice:0})))})).then((e=>{s(e),l(288*(e.length-1)+te)}));break;case"You may also like":Z().then((e=>[...e].sort(((e,t)=>{const c=e.fullPrice-e.price;return t.fullPrice-t.price-c})))).then((e=>{s(e),l(288*(e.length-1)+te)}))}}),[t]);return Object(O.jsxs)("div",{"data-cy":"cardsContainer",children:[Object(O.jsxs)("div",{className:"main__upper-wrapper",children:[Object(O.jsx)("h1",{className:"main__title",children:t}),Object(O.jsxs)("div",{className:"main__button-slider",children:[Object(O.jsx)(n.b,{to:{pathname:c},className:o()("icon",{"icon--disabled":b}),onClick:e=>{b?e.preventDefault():(p(!1),m((e=>{const t=e-ce-16;return t>0?t:(_(!0),0)})))},children:b?Object(O.jsx)("img",{src:ee,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:S,alt:"arrow",className:"icon__arrow"})}),Object(O.jsx)(n.b,{to:{pathname:c},className:o()("icon",{"icon--disabled":h}),onClick:e=>{h?e.preventDefault():(_(!1),m((e=>{const t=e+ce+16;return i-t>ce?t:(p(!0),i-ce)})))},children:h?Object(O.jsx)("img",{src:K,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:C,alt:"arrow",className:"icon__arrow"})})]})]}),a.length>0&&Object(O.jsx)("div",{className:"phones",children:a.map((e=>Object(O.jsx)("div",{style:{transform:"translateX(-".concat(j,"px)"),transition:"transform 1.5s"},children:Object(O.jsx)(Q,{card:e},e.id)},e.id)))})]})}));var se=c.p+"static/media/Phones.07a8b44e.png",ie=c.p+"static/media/tablet.25bae515.png",ne=c.p+"static/media/acse.b914f412.png";const re=Object(B.b)("phones/fetch",(()=>Z().then((e=>e.filter((e=>"phones"===e.category))))));var le=Object(B.c)({name:"phones",initialState:{phones:[],loading:!1,error:!1},reducers:{},extraReducers(e){e.addCase(re.pending,(e=>({...e,error:!1,loading:!0}))),e.addCase(re.fulfilled,((e,t)=>({...e,phones:t.payload,loading:!1}))),e.addCase(re.rejected,(e=>({...e,error:!0,loading:!1})))}}).reducer;const oe=()=>{const{phones:e}=v((e=>e.phones)),t=f();return Object(d.useEffect)((()=>{t(re())}),[]),Object(O.jsxs)("main",{className:"main",children:[Object(O.jsx)("section",{className:"main__slider",children:Object(O.jsx)(I,{})}),Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(ae,{section:"Hot prices"})}),Object(O.jsxs)("section",{className:"main__section","data-cy":"categoryLinksContainer",children:[Object(O.jsx)("div",{className:"main__upper-wrapper",children:Object(O.jsx)("h1",{className:"main__title",children:"Shop by category"})}),Object(O.jsxs)("div",{className:"category",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(n.b,{to:"/phones",className:"category__item",children:Object(O.jsx)("img",{src:se,alt:"phones",className:"category__image"})}),Object(O.jsx)(n.b,{to:"/phones",children:Object(O.jsx)("h3",{className:"category__title",children:"Mobile phones"})}),Object(O.jsx)("p",{className:"category__count",children:"".concat(e.length," models")})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(n.b,{to:"/tablets",className:"category__item",children:Object(O.jsx)("img",{src:ie,alt:"tablets",className:"category__image"})}),Object(O.jsx)(n.b,{to:"/tablets",children:Object(O.jsx)("h3",{className:"category__title",children:"Tablets"})}),Object(O.jsx)("p",{className:"category__count",children:"0 models"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(n.b,{to:"/accessories",className:"category__item",children:Object(O.jsx)("img",{src:ne,alt:"accessories",className:"category__image"})}),Object(O.jsx)(n.b,{to:"/accessories",children:Object(O.jsx)("h3",{className:"category__title",children:"Accessories"})}),Object(O.jsx)("p",{className:"category__count",children:"0 models"})]})]})]}),Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(ae,{section:"Brand new models"})})]})},de=()=>Object(O.jsxs)("main",{className:"main main--not-found",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Page not found"}),Object(O.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(O.jsx)(n.b,{to:"/",children:Object(O.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]}),je="16",me=j.a.memo((e=>{let{products:t}=e;const[c]=Object(n.d)(),a=c.get("page")||"1",s=c.get("perPage")||je,i=+a;let r;return r="All"===s?t.length:+s,Object(O.jsx)("div",{className:"phones phones--list","data-cy":"productList",children:t.slice(i*r-r,i*r).map((e=>Object(O.jsx)(Q,{card:e},e.id)))})}));c(37);const be=()=>Object(O.jsx)("div",{className:"loader","data-cy":"loader",children:Object(O.jsx)("div",{className:"loader__content"})});c(38);var _e=c.p+"static/media/Home.d4c29e4f.svg",he=c.p+"static/media/rightGrayNoButton.2a072ff1.svg";const Oe=j.a.memo((e=>{let{currentPage:t}=e;const{pathname:c}=Object(r.o)(),a=c.split("/");return Object(O.jsx)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:a.map(((e,c)=>{if(0===c)return Object(O.jsx)(j.a.Fragment,{children:Object(O.jsx)(n.b,{to:"/",className:"breadcrumbs__home",children:Object(O.jsx)("img",{src:_e,alt:"home",className:"breadcrumbs__image"})})},e);if(c===a.length-1&&t)return Object(O.jsxs)(j.a.Fragment,{children:[Object(O.jsx)("img",{src:he,alt:"right",className:"breadcrumbs__right"}),Object(O.jsx)(n.b,{to:"/".concat(a.slice(1,c+1).join("/")),className:o()("breadcrumbs__text",{"breadcrumbs__text--category":a.length>1&&1===c}),children:t})]},e);const s=e.split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join(" ");return Object(O.jsxs)(j.a.Fragment,{children:[Object(O.jsx)("img",{src:he,alt:"right",className:"breadcrumbs__right"}),Object(O.jsx)(n.b,{to:"/".concat(a.slice(1,c+1).join("/")),className:o()("breadcrumbs__text",{"breadcrumbs__text--category":a.length>2&&1===c}),children:s})]},e)}))})}));var pe=c.p+"static/media/not_found.cddfa236.jpg";const xe=()=>Object(O.jsx)("main",{className:"main",children:Object(O.jsxs)("section",{className:"main__no-results",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Phone was not found"}),Object(O.jsx)("img",{src:pe,alt:"No results",className:"main__no-results-image"})]})});c(39);var ue=c.p+"static/media/Arrow_Left_black.960106b2.svg";const ge=j.a.memo((e=>{let{countPagination:t}=e;const[c]=Object(n.d)(),a=c.get("page")||"1",s="1"===a,i=a===t.toString(),r=e=>{const t=c.get("page"),a=t&&+t?+t:1;switch(e){case"prev":return h(c,{page:(a-1).toString()});case"next":return h(c,{page:(a+1).toString()});default:return c}};return Object(O.jsxs)("div",{className:"pagination",children:[Object(O.jsx)(n.b,{to:{search:r("prev").toString()},className:o()("icon",{"icon--disabled":s}),onClick:e=>s&&e.preventDefault(),"data-cy":"paginationLeft",children:s?Object(O.jsx)("img",{src:ee,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:ue,alt:"arrow",className:"icon__arrow"})}),_(1,t).map((e=>Object(O.jsx)(n.b,{to:{search:h(c,{page:e.toString()})},className:o()("pagination__icon",{"pagination__icon--selected":a===e.toString()}),children:e},e))),Object(O.jsx)(n.b,{to:{search:r("next").toString()},className:o()("icon",{"icon--disabled":i}),onClick:e=>i&&e.preventDefault(),"data-cy":"paginationRight",children:i?Object(O.jsx)("img",{src:K,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:C,alt:"arrow",className:"icon__arrow"})})]})}));var Ne=c.p+"static/media/downGray.0775c6b7.svg",ve=c.p+"static/media/no-result-512.73090937.png";const fe=()=>Object(O.jsx)("main",{className:"main",children:Object(O.jsxs)("section",{className:"main__no-results",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Sorry, something went wrong. Please try again later."}),Object(O.jsx)("img",{src:ve,alt:"No results",className:"main__no-results-image"})]})}),ye={Newest:"age",Alphabetically:"name",Cheapest:"price"},we=["4","8","16","All"],ke=()=>{const[e,t]=Object(n.d)(),{phones:c,loading:a,error:s}=v((e=>e.phones)),[i,r]=Object(d.useState)(!1),l=f();Object(d.useEffect)((()=>{l(re())}),[]);const j=Object(d.useMemo)((()=>{if(0===c.length)return[];const a=[...c];switch(e.get("sort")){case"age":default:a.sort(((e,t)=>t.year-e.year));break;case"name":a.sort(((e,t)=>e.name.localeCompare(t.name)));break;case"price":a.sort(((e,t)=>e.price-t.price))}const s=e.get("query");return s?(t(h(e,{page:"1"})),a.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())))):a}),[e.get("sort"),e.get("query"),c]),m=Object(d.useMemo)((()=>{const t=e.get("perPage"),c=t&&+t?+t:16;return Math.ceil(j.length/c)}),[e.get("perPage"),j]),b=Object(d.useMemo)((()=>{const t=e.get("sort");return Object.keys(ye).find((e=>ye[e]===t))||"Newest"}),[e.get("sort")]),_=e=>{r((t=>t!==e&&e))},p=e=>{e.relatedTarget&&e.relatedTarget.classList.contains("dropdown__link")||r(!1)};return s?Object(O.jsx)(fe,{}):0!==c.length&&0===j.length?Object(O.jsx)(xe,{}):Object(O.jsxs)("main",{className:"main",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(Oe,{currentPage:"Phones"}),Object(O.jsx)("h1",{className:"main__title main__title--page",children:"Mobile phones"}),!a&&0!==c.length&&Object(O.jsx)("div",{className:"main__description",children:e.get("query")?"".concat(j.length," result").concat(1===j.length?"":"s"):"".concat(c.length," models")})]}),a&&Object(O.jsx)(be,{}),!a&&0!==j.length&&Object(O.jsxs)("section",{className:"main__section",children:[Object(O.jsxs)("div",{className:"main__dropdown dropdown",children:[Object(O.jsxs)("div",{className:"dropdown__menu",children:[Object(O.jsxs)("div",{className:"dropdown__trigger",children:[Object(O.jsx)("div",{className:"dropdown__description",children:"Sort by"}),Object(O.jsxs)("button",{type:"button",className:"dropdown__button",onClick:()=>_("Sort by"),onBlur:p,children:[Object(O.jsx)("span",{className:"dropdown__text",children:b}),Object(O.jsx)("span",{className:"dropdown__icon",children:"Sort by"===i?Object(O.jsx)("img",{src:N,alt:"arrow-up"}):Object(O.jsx)("img",{src:Ne,alt:"arrow-down"})})]})]}),Object(O.jsx)("div",{className:o()("dropdown__content",{"dropdown__content--open":"Sort by"===i}),children:Object.keys(ye).map((t=>Object(O.jsx)("div",{className:"dropdown__item",children:Object(O.jsx)(n.b,{to:{search:h(e,{sort:ye[t]}).toString()},className:o()("dropdown__link",{"dropdown__link--active":"Sort by"===i}),onClick:()=>r(!1),children:t})},t)))})]}),Object(O.jsxs)("div",{className:"dropdown__menu",children:[Object(O.jsxs)("div",{className:"dropdown__trigger",children:[Object(O.jsx)("div",{className:"dropdown__description",children:"Items on page"}),Object(O.jsxs)("button",{type:"button",className:"dropdown__button dropdown__button--count",onClick:()=>_("Items on page"),onBlur:p,children:[Object(O.jsx)("span",{className:"dropdown__text",children:e.get("perPage")||je}),Object(O.jsx)("span",{className:"dropdown__icon",children:"Items on page"===i?Object(O.jsx)("img",{src:N,alt:"arrow-up"}):Object(O.jsx)("img",{src:Ne,alt:"arrow-down"})})]})]}),Object(O.jsx)("div",{className:o()("dropdown__content dropdown__content--count",{"dropdown__content--open":"Items on page"===i}),children:we.map((t=>Object(O.jsx)("div",{className:"dropdown__item",children:Object(O.jsx)(n.b,{to:{search:h(e,{page:"1",perPage:t}).toString()},className:o()("dropdown__link",{"dropdown__link--active":"Items on page"===i}),onClick:()=>r(!1),children:t})},t)))})]})]}),Object(O.jsx)(me,{products:j}),"All"!==e.get("perPage")&&m>1&&Object(O.jsx)(ge,{countPagination:m})]})]})},Ce=e=>{let{page:t}=e;return Object(O.jsxs)("main",{className:"main main--not-found",children:[Object(O.jsx)("h1",{className:"main__title",children:"Oops!"}),Object(O.jsxs)("div",{className:"main__text",children:["Apologies for the inconvenience, but the",Object(O.jsx)("span",{className:"main__span",children:" ".concat(t," ")}),"are not available yet!",Object(O.jsx)("br",{}),"We appreciate your understanding."]}),Object(O.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(O.jsx)(n.b,{to:"/",children:Object(O.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]})},Se=()=>Object(O.jsx)(Ce,{page:"tablets"}),Pe=()=>Object(O.jsx)(Ce,{page:"accessories"}),Ae=e=>{let{category:t}=e;return Object(O.jsxs)("section",{className:"main__no-results",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Your ".concat(t," is empty")}),Object(O.jsx)("img",{src:ve,alt:"No results",className:"main__no-results-image"})]})},Ie=()=>{const[e]=Object(n.d)(),{favorites:t,error:c}=v((e=>e.favorites)),a=Object(d.useMemo)((()=>{if(0===t.length)return[];const c=[...t],a=e.get("query");return a?c.filter((e=>e.name.toLowerCase().includes(a.toLowerCase()))):c}),[e.get("query"),t]);return c?Object(O.jsx)(fe,{}):0!==t.length&&0===a.length?Object(O.jsx)(xe,{}):Object(O.jsxs)("main",{className:"main main--page",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(Oe,{currentPage:"Favorites"}),Object(O.jsx)("h1",{className:"main__title main__title--page",children:"Favorites"}),0!==t.length&&Object(O.jsx)("div",{className:"main__description",children:e.get("query")?"".concat(a.length," result").concat(1===a.length?"":"s"):"".concat(t.length," item").concat(1!==t.length?"s":"")})]}),0===t.length&&Object(O.jsx)(Ae,{category:"favorites"}),0!==a.length&&Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(me,{products:a})})]})};c(40);const Be=j.a.memo((()=>{const{state:e}=Object(r.o)();return Object(O.jsxs)(n.b,{to:{pathname:(null===e||void 0===e?void 0:e.pathname)||"..",search:null===e||void 0===e?void 0:e.search},className:"back","data-cy":"backButton",children:[Object(O.jsx)("img",{src:ue,alt:"arrow",className:"back__arrow"}),Object(O.jsx)("span",{className:"back__text",children:"Back"})]})})),qe=()=>{const{pathname:e,search:t}=Object(r.o)(),[c,a]=Object(d.useState)(!1),{cart:s,error:i}=v((e=>e.cart)),l=f(),j=Object(d.useMemo)((()=>s.reduce(((e,t)=>e+t.product.price*t.quantity),0)),[s]),m=Object(d.useMemo)((()=>s.reduce(((e,t)=>e+t.quantity),0)),[s]);return i?Object(O.jsx)(fe,{}):Object(O.jsxs)("main",{className:"main",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(Be,{}),Object(O.jsx)("h1",{className:"main__title",children:"Cart"})]}),0===s.length&&Object(O.jsx)(Ae,{category:"cart"}),0!==s.length&&Object(O.jsxs)("section",{className:"main__cart cart",children:[Object(O.jsx)("div",{className:"cart__list",children:s.map((c=>{const{id:a,quantity:s,product:i}=c,{image:r,name:d,price:j,phoneId:m}=i;return Object(O.jsxs)("div",{className:"cart__card",children:[Object(O.jsx)("button",{type:"button",className:"cart__close",onClick:()=>(e=>{l(U(e))})(a),"data-cy":"cartDeleteButton"}),Object(O.jsx)(n.b,{to:"/phones/".concat(m),className:"cart__image-wrapper",state:{pathname:e,search:t},children:Object(O.jsx)("img",{className:"cart__image",src:"./new/".concat(r),alt:d})}),Object(O.jsx)(n.b,{to:"/phones/".concat(m),className:"cart__name",state:{pathname:e,search:t},children:"".concat(d)}),Object(O.jsxs)("div",{className:"cart__buttons",children:[Object(O.jsx)("button",{type:"button",className:o()("cart__button cart__button--minus",{"cart__button--disabled":1===s}),onClick:()=>(e=>{l(X(e))})(c.id),disabled:1===s}),Object(O.jsx)("span",{className:"cart__count",children:s}),Object(O.jsx)("button",{type:"button",className:"cart__button cart__button--plus",onClick:()=>(e=>{l(W(e))})(c.id)})]}),Object(O.jsx)("h2",{className:"cart__card-price",children:"$".concat(j)})]},a)}))}),Object(O.jsxs)("div",{className:"cart__total",children:[Object(O.jsx)("h1",{className:"cart__title",children:"$".concat(j)}),Object(O.jsx)("div",{className:"cart__description","data-cy":"productQauntity",children:"Total for ".concat(m," item").concat(1===m?"":"s")}),Object(O.jsx)("div",{className:"cart__line"}),Object(O.jsx)("button",{type:"button",className:"cart__checkout",onClick:()=>a(!0),children:"Checkout"}),c&&Object(O.jsxs)("div",{className:"cart__message",children:[Object(O.jsx)("button",{type:"button",className:"cart__close cart__close--message",onClick:()=>a(!1)}),Object(O.jsx)("p",{className:"cart__paragraph",children:"We are sorry, but this feature is not implemented yet"})]})]})]})]})},Fe=Object(B.b)("product/fetch",(e=>(e=>fetch("".concat(V,"/").concat(e,".json")).then((e=>{if(!e.ok)throw new Error;return e.json()})))(e))),Le=Object(B.c)({name:"product",initialState:{product:null,mainImage:"",loading:!1,error:!1},reducers:{setImage:(e,t)=>({...e,mainImage:t.payload})},extraReducers(e){e.addCase(Fe.pending,(e=>({...e,error:!1,loading:!0}))),e.addCase(Fe.fulfilled,((e,t)=>({...e,product:t.payload,mainImage:t.payload.images[0],loading:!1}))),e.addCase(Fe.rejected,(e=>({...e,error:!0,loading:!1})))}});var Me=Le.reducer;const{setImage:Re}=Le.actions,Ee={black:"#000",coral:"#FF7F50",gold:"#FCDBC1",green:"#87CEFA",midnightgreen:"#5F7170",purple:"#CBB1FF",red:"#F00",rosegold:"#FCBAAA",silver:"#C0C0C0",spacegray:"#4C4C4C",white:"#FFF",yellow:"yellow"},Ge=()=>{const{pathname:e}=Object(r.o)(),{productId:t}=Object(r.s)(),{phones:c}=v((e=>e.phones)),{product:a,loading:s,error:i,mainImage:l}=v((e=>e.product)),j=f(),m=c.find((e=>e.phoneId===t));Object(d.useEffect)((()=>{t&&(j(re()),j(Fe(t)))}),[t]);const b=e=>a?"/phones/".concat(a.namespaceId,"-").concat(a.capacity.toLowerCase(),"-").concat(e):"..",_=e=>a?"/phones/".concat(a.namespaceId,"-").concat(e.toLowerCase(),"-").concat(a.color):"..";return Object(O.jsxs)(O.Fragment,{children:[i&&Object(O.jsxs)("main",{className:"main main--not-found",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Phone was not found"}),Object(O.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(O.jsx)(n.b,{to:{pathname:"/"},children:Object(O.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]}),!i&&s&&Object(O.jsx)(be,{}),!i&&!s&&a&&Object(O.jsxs)("main",{className:"main main--page",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(Oe,{currentPage:a.name}),Object(O.jsx)(Be,{}),Object(O.jsx)("h1",{className:"main__title",children:a.name})]}),Object(O.jsxs)("section",{className:"main__section detail",children:[Object(O.jsx)("ul",{className:"detail__list",children:a.images.map((t=>Object(O.jsx)("li",{className:"detail__item",children:Object(O.jsx)(n.b,{to:{pathname:e},className:o()("detail__link",{"detail__link--selected":t===l}),onClick:()=>j(Re(t)),children:Object(O.jsx)("img",{src:"./new/".concat(t),alt:t,className:"detail__image"})})},t)))}),Object(O.jsx)("div",{className:"detail__main-image-wrapper",children:Object(O.jsx)("img",{src:"./new/".concat(l),alt:l,className:"detail__main-image"})}),Object(O.jsxs)("div",{className:"detail__info",children:[Object(O.jsxs)("div",{className:"detail__wrapper",children:[Object(O.jsx)("div",{className:"detail__text",children:"Available colors"}),Object(O.jsx)("div",{className:"detail__colors",children:a.colorsAvailable.map((e=>Object(O.jsx)(n.b,{to:{pathname:b(e)},className:o()("detail__color",{"detail__color--active":a.color===e}),children:Object(O.jsx)("span",{className:"detail__circle",style:{backgroundColor:Ee[e]}})},e)))}),Object(O.jsx)("div",{className:"detail__line"})]}),Object(O.jsxs)("div",{className:"detail__wrapper",children:[Object(O.jsx)("div",{className:"detail__text",children:"Select capacity"}),Object(O.jsx)("div",{className:"detail__capacities",children:a.capacityAvailable.map((e=>Object(O.jsx)(n.b,{to:{pathname:_(e)},className:o()("detail__capacity",{"detail__capacity--active":a.capacity===e}),children:e.replace("GB"," GB")},e)))}),Object(O.jsx)("div",{className:"detail__line"})]}),Object(O.jsxs)("div",{className:"detail__price-block",children:[Object(O.jsxs)("div",{className:"detail__prices",children:[Object(O.jsx)("div",{className:"detail__price",children:"$".concat(a.priceDiscount)}),Object(O.jsx)("div",{className:"detail__full-price",children:"$".concat(a.priceRegular)})]}),m&&Object(O.jsx)(z,{card:m,info:"detail"})]}),Object(O.jsxs)("div",{className:"detail__chars",children:[Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"Screen"}),Object(O.jsx)("div",{className:"detail__param",children:a.screen})]}),Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"Resolution"}),Object(O.jsx)("div",{className:"detail__param",children:a.resolution})]}),Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"Processor"}),Object(O.jsx)("div",{className:"detail__param",children:a.processor})]}),Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"RAM"}),Object(O.jsx)("div",{className:"detail__param",children:a.ram.replace("GB"," GB")})]})]})]}),Object(O.jsx)("div",{className:"detail__id"}),Object(O.jsxs)("div",{"data-cy":"productDescription",className:"detail__product-left",children:[Object(O.jsx)("h2",{className:"detail__title",children:"About"}),Object(O.jsxs)("div",{className:"detail__about",children:[Object(O.jsx)("div",{className:"detail__line"}),a.description.map((e=>{const{text:t,title:c}=e;return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"detail__subtitle",children:c}),Object(O.jsx)("div",{className:"detail__description",children:t})]},c)}))]})]}),Object(O.jsxs)("div",{className:"detail__product-right",children:[Object(O.jsx)("h2",{className:"detail__title",children:"Tech specs"}),Object(O.jsx)("div",{className:"detail__line"}),Object(O.jsxs)("ul",{className:"detail__list-tech",children:[Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Screen"}),Object(O.jsx)("div",{children:a.screen})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Resolution"}),Object(O.jsx)("div",{children:a.resolution})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Processor"}),Object(O.jsx)("div",{children:a.processor})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"RAM"}),Object(O.jsx)("div",{children:a.ram})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Built in memory"}),Object(O.jsx)("div",{children:a.capacity})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Camera"}),Object(O.jsx)("div",{children:a.camera})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Zoom"}),Object(O.jsx)("div",{children:a.zoom})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Cell"}),Object(O.jsx)("div",{children:a.cell.join(", ")})]})]})]})]}),Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(ae,{section:"You may also like"})})]})]})},Te=()=>Object(O.jsx)(n.a,{children:Object(O.jsx)(r.e,{children:Object(O.jsxs)(r.c,{path:"/",element:Object(O.jsx)(k,{}),children:[Object(O.jsx)(r.c,{path:"*",element:Object(O.jsx)(de,{})}),Object(O.jsx)(r.c,{index:!0,element:Object(O.jsx)(oe,{})}),Object(O.jsx)(r.c,{path:"home",element:Object(O.jsx)(r.a,{to:"/"})}),Object(O.jsxs)(r.c,{path:"phones",children:[Object(O.jsx)(r.c,{index:!0,element:Object(O.jsx)(ke,{})}),Object(O.jsx)(r.c,{path:":productId",element:Object(O.jsx)(Ge,{})})]}),Object(O.jsx)(r.c,{path:"tablets",element:Object(O.jsx)(Se,{})}),Object(O.jsx)(r.c,{path:"accessories",element:Object(O.jsx)(Pe,{})}),Object(O.jsx)(r.c,{path:"favorites",element:Object(O.jsx)(Ie,{})}),Object(O.jsx)(r.c,{path:"cart",element:Object(O.jsx)(qe,{})})]})})});var De=Object(B.a)({reducer:{cart:$,favorites:R,phones:le,product:Me}});s.a.render(Object(O.jsx)(i.a,{store:De,children:Object(O.jsx)(Te,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.4aa66cd1.chunk.js.map